
$(function(){
  if (!document.querySelectorAll('ul.cards li')) {
    // Prepare the cards in the stack for iteration.
    var cards = [].slice.call(document.querySelectorAll('ul.cards li'));
    // An instance of the Stack is used to attach event listeners.
    var stack = Swing.Stack();

    cards.forEach((targetElement), function() {
      // Add card element to the Stack.
      stack.createCard(targetElement);
    });
    // Add event listener for when a card is thrown out of the stack.
    stack.on('throwout', function (event) {
      // e.target Reference to the element that has been thrown out of the stack.
      // e.throwDirection Direction in which the element has been thrown (Card.DIRECTION_LEFT, Card.DIRECTION_RIGHT).
      console.log('Card has been thrown out of the stack.');
      console.log('Throw direction: ' + (event.throwDirection == Card.DIRECTION_LEFT ? 'left' : 'right'));
    });

    // Add event listener for when a card is thrown in the stack, including the spring back into place effect.
    stack.on('throwin', function () {
      console.log('Card has snapped back to the stack.');
    }); 
  }  
});
